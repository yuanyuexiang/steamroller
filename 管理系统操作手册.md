# 实体商店智能化展销管理平台 - 操作手册

## 📋 目录
1. [系统概述](#系统概述)
2. [快速开始](#快速开始)
3. [核心功能模块](#核心功能模块)
4. [操作指南](#操作指南)
5. [数据管理](#数据管理)
6. [常见问题](#常见问题)
7. [技术支持](#技术支持)

---

## 系统概述

### 🎯 平台简介
实体商店智能化展销管理平台是一个基于现代Web技术栈构建的综合性管理系统，专为实体店铺的数字化管理和智能展销而设计。

### 💡 核心价值
- **店铺全生命周期管理**: 从创建到运营的完整管理链条
- **商品智能展销**: 多维度商品管理和展示系统
- **数据驱动决策**: 实时统计分析和可视化报表
- **用户体验优化**: 直观的操作界面和流畅的交互体验

### 🏗️ 技术架构
- **前端**: Next.js 15.5.0 + React 18 + TypeScript
- **UI框架**: Ant Design 5.27.1
- **数据层**: GraphQL + Apollo Client
- **后端**: Directus (Headless CMS)
- **认证**: JWT Token + 权限控制

---

## 快速开始

### 🔐 系统登录
1. 访问管理系统地址：`http://localhost:3000/login`
2. 输入管理员账号和密码
3. 点击"登录"按钮进入系统

### 🏠 主界面导航
登录成功后，您将看到系统主界面，包含以下核心模块：

```
├── 🏪 仪表盘 - 数据概览和统计
├── 🏬 店铺管理 - 店铺信息维护
├── 📦 商品管理 - 商品信息维护
├── 🏷️  分类管理 - 商品分类体系
├── 📋 订单管理 - 订单处理和跟踪
├── 👥 客户管理 - 客户信息管理
├── 📺 终端管理 - 展示终端设备
├── 👁️  浏览管理 - 用户浏览记录
├── 📊 访问管理 - 访问数据统计
└── 👤 个人资料 - 账户设置
```

---

## 核心功能模块

### 🏪 1. 仪表盘 (Dashboard)
**功能概述**: 提供平台关键指标的实时概览

**主要特性**:
- 📊 **实时统计**: 店铺数量、商品数量、订单统计、客户数量
- 📈 **趋势图表**: 数据变化趋势和增长分析  
- 🔥 **热门数据**: 最近订单、热门商品、活跃店铺
- ⚡ **快速操作**: 一键跳转到各管理模块

**使用场景**:
- 管理员快速了解平台整体运营状况
- 日常数据监控和业务决策支持
- 异常情况预警和问题发现

### 🏬 2. 店铺管理 (Boutiques)
**功能概述**: 实体店铺的全生命周期管理系统

#### **店铺列表管理**
- 📝 **信息展示**: 店铺图片、名称、地址、城市、评分、状态
- 🔍 **搜索筛选**: 按名称、地址搜索，状态筛选
- 📊 **排序功能**: 按评分、创建时间、排序权重排序
- ⚙️ **批量操作**: 批量状态更新、数据导出

#### **店铺详情编辑**
- 📋 **基本信息**: 
  - 店铺名称 (必填)
  - 详细地址
  - 省市选择 (级联选择器)
  - 店铺代码
  - 店铺类别
  - 联系方式
  - 过期时间
- ⭐ **评分管理**: 1-5星评分系统
- 🎯 **排序权重**: 影响店铺展示顺序
- 🖼️ **图片管理**: 
  - 主图上传 (1张)
  - 店铺图片轮播 (最多10张)
  - 支持图片格式：JPG、PNG、WebP
- 🏷️ **状态管理**: 已开放、已关闭

#### **智能省市选择**
- 🗺️ **级联选择**: 先选省份，再选城市
- 🔍 **搜索功能**: 支持省市名称模糊搜索
- 💾 **数据标准化**: 自动转换为"省份 城市"格式存储

### 📦 3. 商品管理 (Products)
**功能概述**: 商品信息的创建、编辑和管理

#### **商品列表**
- 🖼️ **商品图片**: 缩略图展示
- 📝 **基本信息**: 名称、价格、市场价、库存
- 🏪 **归属店铺**: 所属店铺信息
- 🏷️ **分类标签**: 商品分类显示
- 📊 **状态管理**: 上架、下架、草稿状态

#### **商品详情编辑**
- 📋 **基本信息**: 名称、副标题、描述
- 💰 **价格设置**: 售价、市场价、成本价
- 📦 **库存管理**: 库存数量、SKU编码
- 🏪 **店铺关联**: 选择所属店铺
- 🏷️ **分类设置**: 商品分类选择
- 🖼️ **图片管理**: 主图和详情图片
- 🎯 **SEO优化**: 关键词、标签设置

### 🏷️ 4. 分类管理 (Categories)
**功能概述**: 构建完整的商品分类体系

#### **分类结构**
- 📁 **层级管理**: 支持多级分类结构
- 🔗 **店铺关联**: 分类与店铺的关联关系
- 📝 **分类信息**: 名称、描述、图标设置
- 🎯 **排序控制**: 分类展示顺序管理

#### **分类操作**
- ➕ **新建分类**: 创建新的商品分类
- ✏️ **编辑分类**: 修改分类信息和描述
- 🔗 **关联管理**: 设置分类与店铺的关系
- 🗑️ **删除分类**: 安全删除无关联商品的分类

### 📋 5. 订单管理 (Orders)
**功能概述**: 订单的全流程跟踪和管理

#### **订单列表**
- 📋 **订单信息**: 订单ID、客户信息、店铺信息
- 💰 **金额展示**: 订单总价、支付状态
- 📅 **时间记录**: 创建时间、更新时间
- 🔄 **状态跟踪**: 待付款、已付款、已发货、已完成

#### **订单详情**
- 👤 **客户信息**: 姓名、联系方式、收货地址
- 🏪 **店铺信息**: 商家详细信息
- 📦 **商品清单**: 商品名称、数量、单价
- 💳 **支付信息**: 支付方式、支付时间、交易号
- 📋 **操作日志**: 订单状态变更历史

### 👥 6. 客户管理 (Customers)  
**功能概述**: 客户信息和关系管理

#### **客户档案**
- 👤 **基本信息**: 昵称、头像、性别、联系方式
- 🔑 **账户信息**: OpenID、注册时间、最后登录
- 📊 **行为统计**: 浏览记录、购买历史、偏好分析
- 🎯 **标签管理**: 客户分群和标签化管理

### 📺 7. 终端管理 (Terminals)
**功能概述**: 展示终端设备的管理和监控

#### **终端设备**
- 🖥️ **设备信息**: 终端ID、设备类型、位置信息
- 📊 **状态监控**: 在线状态、运行状态、故障报警
- 🎛️ **远程控制**: 内容推送、参数设置、重启操作
- 📋 **维护记录**: 维护历史、故障记录、性能数据

### 👁️ 8. 浏览管理 (Views)
**功能概述**: 用户浏览行为的记录和分析

#### **浏览数据**
- 👤 **用户行为**: 浏览用户、浏览时间、停留时长  
- 📦 **商品热度**: 商品浏览量、热门商品排行
- 🏪 **店铺流量**: 店铺访问统计、流量趋势
- 📊 **数据分析**: 用户偏好分析、商品推荐优化

### 📊 9. 访问管理 (Visits)
**功能概述**: 平台访问数据的统计和分析

#### **访问统计**  
- 📈 **流量分析**: PV、UV、访问来源、地域分布
- ⏰ **时间分析**: 访问高峰时段、用户活跃度
- 📱 **设备分析**: 移动端、PC端访问占比
- 🎯 **转化分析**: 访问-浏览-购买转化漏斗

---

## 操作指南

### 🏪 店铺管理操作流程

#### **新建店铺**
1. 点击左侧导航 "店铺管理"
2. 点击页面右上角 "新增店铺" 按钮
3. 填写店铺基本信息：
   ```
   - 店铺名称 (必填)
   - 详细地址
   - 所在城市 (省市级联选择)
   - 店铺代码 (可选)
   - 店铺类别 (可选)  
   - 联系方式 (可选)
   - 过期时间 (可选)
   ```
4. 设置店铺评分 (1-5星)
5. 设置排序权重 (影响显示顺序)
6. 上传店铺图片：
   - 主图：选择代表性图片 (1张)
   - 轮播图：上传店铺内景等 (最多10张)
7. 选择店铺状态 (已开放/已关闭)
8. 点击 "保存" 完成创建

#### **编辑店铺**
1. 在店铺列表中找到目标店铺
2. 点击 "编辑" 按钮
3. 修改需要更新的信息
4. 点击 "保存" 保存更改

#### **省市选择操作**
1. 在城市字段点击下拉箭头
2. 首先选择省份 (如: 江苏省)
3. 系统自动显示该省所有城市
4. 选择具体城市 (如: 南京市)
5. 系统自动保存为 "江苏省 南京市" 格式

#### **批量操作**
1. 使用搜索框筛选目标店铺
2. 勾选需要操作的店铺
3. 点击批量操作按钮
4. 选择操作类型 (批量更新状态/批量删除)
5. 确认操作

### 📦 商品管理操作流程

#### **新建商品**
1. 点击 "商品管理" 导航
2. 点击 "新增商品" 按钮
3. 填写商品基本信息：
   ```
   - 商品名称 (必填)
   - 商品副标题
   - 商品描述  
   - 销售价格 (必填)
   - 市场价格
   - 库存数量
   - 商品SKU/条码
   ```
4. 选择归属店铺
5. 选择商品分类
6. 上传商品图片
7. 设置商品状态
8. 点击 "保存" 完成创建

#### **商品状态管理**
- **草稿**: 未完成编辑的商品
- **上架**: 正常销售中的商品  
- **下架**: 暂停销售的商品
- **缺货**: 库存不足的商品

### 📋 订单处理流程

#### **订单查看**
1. 进入 "订单管理" 页面
2. 查看订单列表信息
3. 使用筛选条件查找订单：
   - 按订单状态筛选
   - 按时间范围筛选
   - 按客户信息搜索
4. 点击订单查看详细信息

#### **订单状态更新**
1. 打开订单详情页面
2. 根据实际情况更新订单状态：
   ```
   待付款 → 已付款 → 已发货 → 已完成
   ```
3. 填写状态更新备注
4. 保存更新

### 💾 数据导出操作
1. 在任意管理页面点击 "导出数据" 按钮
2. 系统自动生成 CSV 格式文件
3. 文件包含当前页面所有数据
4. 支持UTF-8编码，Excel直接打开无乱码

---

## 数据管理

### 📊 数据导出功能
系统支持各模块数据的CSV格式导出：

#### **店铺数据导出**
```
- 店铺ID
- 店铺名称  
- 店铺地址
- 所在城市
- 店铺代码
- 店铺类别
- 联系方式
- 过期时间
- 评分
- 状态
- 排序权重
- 创建时间
- 更新时间
- 创建者信息
```

#### **商品数据导出**
```
- 商品ID
- 商品名称
- 副标题
- 描述信息
- 销售价格
- 市场价格
- 库存数量
- SKU编码
- 所属店铺
- 商品分类
- 创建时间
- 更新时间
```

### 🔐 权限控制
系统基于用户权限进行数据访问控制：

#### **数据隔离**
- 普通用户只能查看和编辑自己创建的数据
- 管理员用户可以查看全部数据
- 基于 `user_created.id` 字段进行权限过滤

#### **操作权限**
- **查看权限**: 基础数据查看
- **编辑权限**: 数据修改和更新
- **删除权限**: 数据删除操作
- **导出权限**: 数据导出功能

### 🔄 数据同步
系统采用GraphQL实现实时数据同步：

- **实时更新**: 数据变更即时反映
- **缓存机制**: Apollo Client智能缓存
- **离线支持**: 网络异常时的数据保护
- **冲突处理**: 并发编辑的冲突解决

---

## 常见问题

### ❓ 登录问题

**Q: 忘记登录密码怎么办？**
A: 联系系统管理员重置密码，或使用密码重置功能。

**Q: 登录后页面空白？**  
A: 检查网络连接和浏览器兼容性，建议使用Chrome最新版本。

### ❓ 操作问题

**Q: 图片上传失败？**
A: 
- 检查图片格式是否为JPG/PNG/WebP
- 确认图片大小不超过10MB
- 检查网络连接是否稳定

**Q: 数据保存失败？**
A:
- 检查必填字段是否完整填写
- 确认网络连接正常
- 刷新页面后重试

**Q: 搜索功能不工作？**
A:
- 检查搜索关键词是否正确
- 尝试使用部分关键词搜索
- 清除搜索条件后重新搜索

### ❓ 数据问题

**Q: 导出的CSV文件乱码？**
A: 使用支持UTF-8编码的工具打开，或在Excel中选择UTF-8导入。

**Q: 省市选择器显示不全？**
A: 刷新页面重新加载省市数据，或联系技术支持。

### ❓ 性能问题

**Q: 页面加载缓慢？**
A:
- 检查网络连接速度
- 清除浏览器缓存
- 尝试在网络较好的环境下使用

**Q: 图片显示缓慢？**
A: 图片采用WebP格式和CDN加速，显示速度取决于网络条件。

---

## 技术支持

### 📞 联系方式
- **技术支持邮箱**: support@yourcompany.com
- **技术支持电话**: 400-XXX-XXXX
- **工作时间**: 周一至周五 9:00-18:00

### 🔧 系统要求

#### **浏览器兼容性**
- Chrome 90+ (推荐)
- Firefox 88+
- Safari 14+
- Edge 90+

#### **网络要求**
- 宽带网络连接
- 建议上传带宽 ≥ 2Mbps (图片上传)
- 建议下载带宽 ≥ 10Mbps (页面加载)

#### **分辨率要求**  
- 最小分辨率: 1366x768
- 推荐分辨率: 1920x1080

### 🛠️ 故障排除

#### **常见故障处理**
1. **页面无法加载**
   - 检查网络连接
   - 清除浏览器缓存和Cookie
   - 禁用浏览器扩展
   - 尝试无痕模式

2. **数据保存失败**
   - 检查表单验证错误
   - 确认网络连接稳定
   - 重新登录后重试

3. **图片上传失败**
   - 检查图片格式和大小
   - 确认上传权限
   - 尝试压缩图片后重试

### 📚 版本更新
系统采用持续集成和部署，定期发布功能更新：

- **功能更新**: 新增功能和模块
- **性能优化**: 页面加载和响应速度优化  
- **安全更新**: 安全漏洞修复和加固
- **用户体验**: 界面优化和交互改进

---

## 📈 系统特性总结

### ✨ 核心优势
- **🎨 现代化界面**: 基于Ant Design的美观界面
- **⚡ 高性能**: Next.js + GraphQL实现快速响应
- **🔐 安全可靠**: JWT认证和权限控制
- **📱 响应式设计**: 支持多种设备访问
- **🌏 国际化**: 中文本地化支持
- **💾 数据完整**: 完善的数据导出和备份

### 🚀 技术亮点
- **TypeScript**: 类型安全的开发体验
- **GraphQL**: 高效的数据获取和更新
- **Apollo Client**: 智能缓存和状态管理
- **Server Components**: Next.js 15的服务端渲染
- **省市级联**: 智能的地理位置选择
- **图片优化**: WebP格式和CDN加速

---

*本手册持续更新，如有疑问请联系技术支持团队。*

**版本**: v1.0.0  
**更新时间**: 2025年9月16日